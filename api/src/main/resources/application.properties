spring.application.name=api
server.port=${PORT:8080}

spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.hibernate.ddl-auto=${DDL_AUTO:validate}

aws.s3.region=${AWS_REGION}
aws.s3.access-key=${AWS_ACCESS_KEY}
aws.s3.secret-key=${AWS_SECRET_KEY}
aws.s3.bucket-name=${AWS_BUCKET_NAME}

aws.cloudfront.domain=${CLOUDFRONT_DOMAIN:}
aws.cloudfront.key-pair-id=${CLOUDFRONT_KEY_PAIR_ID:}
aws.cloudfront.private-key-string=${CLOUDFRONT_PRIVATE_KEY_STRING:}

supabase.jwks.url=${SUPABASE_VERIFY}
supabase.jwt.issuer=${SUPABASE_JWT_ISSUER}

aws.sqs.queue-url=${AWS_SQS_URL}

spring.data.redis.url=${REDIS_URL:redis://localhost:6379}
spring.data.redis.ssl.enabled=${REDIS_SSL:false}
spring.data.redis.timeout=500ms
spring.data.redis.lettuce.shutdown-timeout=200ms

turnstile.secret=${TURNSTILE_SECRET:}

cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000}

spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
server.tomcat.max-http-form-post-size=10485760
server.tomcat.max-swallow-size=10485760

server.error.include-stacktrace=never
server.error.include-message=never
server.error.include-binding-errors=never
server.error.include-exception=false

spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=10000
spring.datasource.hikari.idle-timeout=300000

server.tomcat.threads.max=100
server.tomcat.threads.min-spare=5
server.tomcat.connection-timeout=10000

server.server-header=
server.tomcat.accesslog.enabled=false

server.forward-headers-strategy=NATIVE
server.tomcat.remoteip.remote-ip-header=X-Forwarded-For
server.tomcat.remoteip.protocol-header=X-Forwarded-Proto