spring.application.name=api
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}
spring.datasource.driver-class-name=org.postgresql.Driver
spring.jpa.hibernate.ddl-auto=update

# AWS S3 Configuration
aws.s3.region=${AWS_REGION}
aws.s3.access-key=${AWS_ACCESS_KEY}
aws.s3.secret-key=${AWS_SECRET_KEY}
aws.s3.bucket-name=${AWS_BUCKET_NAME}

# Supabase
supabase.jwks.url=${SUPABASE_VERIFY}

# AWS SQS
aws.sqs.queue-url=${AWS_SQS_URL}
cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:3000}

# --- Production Security ---
# Max request body size (10 MB - blocks oversized payloads)
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
server.tomcat.max-http-form-post-size=10485760
server.tomcat.max-swallow-size=10485760

# Hide stack traces from API responses
server.error.include-stacktrace=never
server.error.include-message=never
server.error.include-binding-errors=never
server.error.include-exception=false

# Connection pool limits (prevent connection exhaustion)
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=2
spring.datasource.hikari.connection-timeout=10000
spring.datasource.hikari.idle-timeout=300000

# Tomcat thread limits (prevent thread exhaustion DDoS)
server.tomcat.threads.max=100
server.tomcat.threads.min-spare=5
server.tomcat.connection-timeout=10000

# Disable unnecessary server info
server.server-header=
server.tomcat.accesslog.enabled=false